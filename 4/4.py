# ç»™å®šä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸º m å’Œ n çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„ nums1 å’Œ nums2ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ ä¸­ä½æ•° ã€‚
#
#  ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º O(log (m+n)) ã€‚
#
#
#
#  ç¤ºä¾‹ 1ï¼š
#
#
# è¾“å…¥ï¼šnums1 = [1,3], nums2 = [2]
# è¾“å‡ºï¼š2.00000
# è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3] ï¼Œä¸­ä½æ•° 2
#
#
#  ç¤ºä¾‹ 2ï¼š
#
#
# è¾“å…¥ï¼šnums1 = [1,2], nums2 = [3,4]
# è¾“å‡ºï¼š2.50000
# è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3,4] ï¼Œä¸­ä½æ•° (2 + 3) / 2 = 2.5
#
#
#
#
#
#
#  æç¤ºï¼š
#
#
#  nums1.length == m
#  nums2.length == n
#  0 <= m <= 1000
#  0 <= n <= 1000
#  1 <= m + n <= 2000
#  -10â¶ <= nums1[i], nums2[i] <= 10â¶
#
#
#  Related Topics æ•°ç»„ äºŒåˆ†æŸ¥æ‰¾ åˆ†æ²» ğŸ‘ 6844 ğŸ‘ 0
from typing import List

# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def findMedianSortedArrays(self, nums1: List[int], nums2: List[int]) -> float:
        # æ±‚å¾—æ•°ç»„nums1çš„å…ƒç´ ä¸ªæ•°
        len_nums1 = len(nums1)
        # æ±‚å¾—æ•°ç»„nums2çš„å…ƒç´ ä¸ªæ•°
        len_nums2 = len(nums2)
        # ç›¸åŠ æ±‚å¾—å…ƒç´ æ€»æ•°
        len_sum = len_nums1 + len_nums2

        # è¦å¯¹len_sumä¸ºå¥‡æ•°ä»¥åŠå¶æ•°çš„æƒ…å†µéƒ½åšç›¸åº”çš„é€‚é…
        median_left = (len_sum + 1) // 2
        # æ­¤å¤„ä¸ºä»€ä¹ˆæ˜¯(len_sum+1//2)ä»¥åŠ(len_sum+2)//2?
        # è€ƒè™‘åˆ°æ•°ç»„ä¸­å…ƒç´ çš„ä¸‹æ ‡ä»0å¼€å§‹è®¡æ•°ï¼Œè€Œæ­¤å¤„æˆ‘ä»¬æ±‚å¾—æ˜¯å°†ä¸¤ä¸ªæ•°ç»„åˆå¹¶åä»1å¼€å§‹çš„ç¬¬kä¸ªæ•°ï¼ˆæˆ–è€…ç¬¬kå’Œç¬¬k+1ä¸ªæ•°çš„å¹³å‡å€¼ï¼‰ä½œä¸ºæœ€ç»ˆç»“æœçš„ã€‚è¿™é‡Œçš„kä¹‹æ‰€ä»¥ä¸ºä»1å¼€å§‹æ•°çš„ï¼Œæ˜¯å› ä¸ºåœ¨ä¹‹åè¦æ’é™¤æ‰å‰aä¸ªå…ƒç´ ï¼ˆå‡è®¾å‰aä¸ªå…ƒç´ éƒ½å°äºä¸¤ä¸ªæ•°ç»„åˆå¹¶åçš„ä¸­ä½æ•°ï¼‰ï¼Œè¿™æ ·ç›´æ¥è®¡ç®—k-aå³å¯ã€‚
        median_right = (len_sum + 2) // 2
        # è¿”å›ç»“æœä¸ºä¸¤ä¸ªæ•°ç»„é€’å½’å¾—åˆ°ä¸­ä½æ•°å³ç¬¬kä¸ªå€¼ï¼ˆå¥‡æ•°çš„æƒ…å†µï¼‰ï¼Œæˆ–è€…ç¬¬kå’Œk+1ä¸ªå€¼å¾—å¹³å‡æ•°ï¼ˆå¶æ•°çš„æƒ…å†µï¼‰
        return (Solution.getKth(self, nums1, 0, len_nums1 - 1, nums2, 0, len_nums2 - 1, median_left) + Solution.getKth(
            self, nums1, 0, len_nums1 - 1, nums2, 0, len_nums2 - 1, median_right)) * 0.5

    def getKth(self, nums1: List[int], start_1: int, end_1: int, nums2: List[int], start_2: int, end_2: int, k: int):
        len_1 = end_1 - start_1 + 1
        len_2 = end_2 - start_2 + 1
        # è‹¥nums1çš„å…ƒç´ ä¸ªæ•°å¤§äºnums2ï¼Œæ­¤æ—¶è°ƒæ¢ä¸¤ä¸ªæ•°ç»„ï¼Œæ–¹ä¾¿è¿›è¡Œç»Ÿä¸€å¤„ç†
        if len_1 > len_2:
            return Solution.getKth(self, nums2, start_2, end_2, nums1, start_1, end_1, k)
        # è‹¥nums1æ•°ç»„ï¼ˆç”±äºä¸Šä¸€æ­¥åšè¿‡å¤„ç†ï¼Œnums1è‚¯å®šæ˜¯å…ƒç´ è¾ƒå°‘çš„é‚£ä¸ªæ•°ç»„ï¼‰ä¸ºç©ºï¼Œåˆ™åªéœ€è¦ç›´æ¥è¿”å›æ•°ç»„è€Œçš„ä¸­ä½æ•°ã€‚æ­¤å¤„æ— éœ€è€ƒè™‘å¶æ•°çš„æƒ…å†µï¼Œå› ä¸ºåœ¨findMedianSortedArraysé‡Œå·²ç»è€ƒè™‘è¿‡äº†ã€‚
        if len_1 == 0:
            return nums2[start_2 + k - 1]
        # è‹¥kç­‰äº1çš„æ—¶å€™ï¼Œæ­¤æ—¶è¯´æ˜è®¡ç®—èŒƒå›´å†…çš„æ•°ç»„å…ƒç´ ä¸­ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯è¦æ±‚çš„ç»“æœï¼ˆæ•°ç»„ä¸­ä¸‹æ ‡ä¸º0ï¼‰ï¼Œåˆ™ç›´æ¥å–å¾—ä¸¤ä¸ªæ•°ç»„é¦–ä¸ªå…ƒç´ ä¸­è¾ƒå°çš„é‚£ä¸€ä¸ªå³å¯ã€‚åŒæ ·å¥‡å¶æ€§ä¸éœ€è¦è€ƒè™‘ï¼Œåœ¨findMediaSortedArraysé‡Œå·²ç»è€ƒè™‘è¿‡äº†ã€‚
        if k == 1:
            return min(nums1[start_1], nums2[start_2])

        # æ­¤å¤„ç†è§£èŠ±è´¹æ—¶é—´è¾ƒé•¿ï¼šç”±äºä¹‹å‰æˆ‘ä»¬å®šä¹‰çš„kæ˜¯ä»1å¼€å§‹æ•°çš„ç¬¬kä¸ªå…ƒç´ ï¼Œæ­¤å¤„è¦åœ¨æ•°ç»„ä¸­æ‰¾åˆ°å¯¹åº”çš„å…ƒç´ ï¼Œä¸‹æ ‡åº”è¯¥-1ã€‚åŒæ ·å› ä¸ºlenè®¡ç®—çš„æ˜¯å…ƒç´ çš„æ€»æ•°ï¼Œä¼šæ¯”æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡å¤§1ï¼Œæ‰€ä»¥ä¸è®ºå–å“ªä¸ªå€¼ï¼Œéƒ½éœ€è¦å‡å»1ã€‚
        pointer_1 = start_1 + min(len_1, k // 2) - 1
        pointer_2 = start_2 + min(len_2, k // 2) - 1
        # åˆ¤æ–­ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ å€¼å¾—å¤§å°ï¼Œå»æ‰è¾ƒå°å…ƒç´ æ‰€åœ¨æ•°ç»„çš„åœ¨è¾ƒå°å…ƒç´ ä¹‹å‰çš„å…ƒç´ ä»¥åŠè¾ƒå°å…ƒç´ ï¼Œå°†æŒ‡é’ˆæŒ‡å‘è¾ƒå°å…ƒç´ çš„åä¸€ä¸ªå€¼ã€‚ä¹‹åè¿›è¡Œé€’å½’å¤„ç†å³å¯å¾—åˆ°ç»“æœã€‚
        if nums1[pointer_1] > nums2[pointer_2]:
            return Solution.getKth(self, nums1, start_1, end_1, nums2, pointer_2 + 1, end_2,
                                   k - (pointer_2 - start_2 + 1))
        else:
            return Solution.getKth(self, nums1, pointer_1 + 1, end_1, nums2, start_2, end_2,
                                   k - (pointer_1 - start_1 + 1))


Solution_sample = Solution()
# nums1 = [1,2]
# nums2 = [3,4]
# ä¸­ä½æ•° (2 + 3) / 2 = 2.5


# nums1 = [1]
# nums2 = [2,3,4]

nums1 =[1,3]
nums2 = [2]
# æœŸæœ›ç»“æœ:2.00000
res = Solution_sample.findMedianSortedArrays(nums1,nums2)
print(res)